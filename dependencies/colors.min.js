!function(r,t){"use strict";function n(r,n,o,s,i){if("string"==typeof n){var n=x.txt2color(n);o=n.type,l[o]=n[o],i=i!==t?i:n.alpha}else if(n)for(var u in n)r[o][u]=b(n[u]/h[o][u][1],0,1);return i!==t&&(r.alpha=+i),a(o,s?r:t)}function o(r,t,n){var o=c.options.grey,a={};return a.RGB={r:r.r,g:r.g,b:r.b},a.rgb={r:t.r,g:t.g,b:t.b},a.alpha=n,a.equivalentGrey=Math.round(o.r*r.r+o.g*r.g+o.b*r.b),a.rgbaMixBlack=g(t,{r:0,g:0,b:0},n,1),a.rgbaMixWhite=g(t,{r:1,g:1,b:1},n,1),a.rgbaMixBlack.luminance=u(a.rgbaMixBlack,!0),a.rgbaMixWhite.luminance=u(a.rgbaMixWhite,!0),c.options.customBG&&(a.rgbaMixCustom=g(t,c.options.customBG,n,1),a.rgbaMixCustom.luminance=u(a.rgbaMixCustom,!0),c.options.customBG.luminance=u(c.options.customBG,!0)),a}function a(r,t){var n,a,b,v=t||l,f=x,p=c.options,m=h,M=v.RND,B="",G="",C={hsl:"hsv",rgb:r},y=M.rgb;if("alpha"!==r){for(var R in m)if(!m[R][R]){r!==R&&(G=C[R]||"rgb",v[R]=f[G+"2"+R](v[G])),M[R]||(M[R]={}),n=v[R];for(B in n)M[R][B]=Math.round(n[B]*m[R][B][1])}y=M.rgb,v.HEX=f.RGB2HEX(y),v.equivalentGrey=p.grey.r*v.rgb.r+p.grey.g*v.rgb.g+p.grey.b*v.rgb.b,v.webSave=a=s(y,51),v.webSmart=b=s(y,17),v.saveColor=y.r===a.r&&y.g===a.g&&y.b===a.b?"web save":y.r===b.r&&y.g===b.g&&y.b===b.b?"web smart":"",v.hueRGB=x.hue2RGB(v.hsv.h),t&&(v.background=o(y,v.rgb,v.alpha))}var d,k,E,H=v.rgb,w=v.alpha,X="luminance",S=v.background;return d=g(H,{r:0,g:0,b:0},w,1),d[X]=u(d,!0),v.rgbaMixBlack=d,k=g(H,{r:1,g:1,b:1},w,1),k[X]=u(k,!0),v.rgbaMixWhite=k,p.customBG&&(E=g(H,S.rgbaMixCustom,w,1),E[X]=u(E,!0),E.WCAG2Ratio=e(E[X],S.rgbaMixCustom[X]),v.rgbaMixBGMixCustom=E,E.luminanceDelta=Math.abs(E[X]-S.rgbaMixCustom[X]),E.hueDelta=i(S.rgbaMixCustom,E,!0)),v.RGBLuminance=u(y),v.HUELuminance=u(v.hueRGB),p.convertCallback&&p.convertCallback(v,r),v}function s(r,t){var n={},o=0,a=t/2;for(var s in r)o=r[s]%t,n[s]=r[s]+(o>a?t-o:-o);return n}function i(r,t,n){return(Math.max(r.r-t.r,t.r-r.r)+Math.max(r.g-t.g,t.g-r.g)+Math.max(r.b-t.b,t.b-r.b))*(n?255:1)/765}function u(r,t){for(var n=t?1:255,o=[r.r/n,r.g/n,r.b/n],a=c.options.luminance,s=o.length;s--;)o[s]=o[s]<=.03928?o[s]/12.92:Math.pow((o[s]+.055)/1.055,2.4);return a.r*o[0]+a.g*o[1]+a.b*o[2]}function g(r,n,o,a){var s={},i=o!==t?o:1,u=a!==t?a:1,g=i+u*(1-i);for(var e in r)s[e]=(r[e]*i+n[e]*u*(1-i))/g;return s.a=g,s}function e(r,t){var n=1;return n=r>=t?(r+.05)/(t+.05):(t+.05)/(r+.05),Math.round(100*n)/100}function b(r,t,n){return r>n?n:t>r?t:r}var h={rgb:{r:[0,255],g:[0,255],b:[0,255]},hsv:{h:[0,360],s:[0,100],v:[0,100]},hsl:{h:[0,360],s:[0,100],l:[0,100]},alpha:{alpha:[1,1]},HEX:{HEX:[0,16777215]}},c={},l={},v={r:.298954,g:.586434,b:.114612},f={r:.2126,g:.7152,b:.0722},p=r.Colors=function(r){this.colors={RND:{}},this.options={color:"rgba(89, 124, 86, 0.7)",grey:v,luminance:f,valueRanges:h},m(this,r||{})},m=function(r,o){var a,s=r.options;M(r);for(var i in o)o[i]!==t&&(s[i]=o[i]);a=s.customBG,s.customBG="string"==typeof a?x.txt2color(a).rgb:a,l=n(r.colors,s.color,t,!0)},M=function(r){c!==r&&(c=r,l=r.colors)};p.prototype.setColor=function(r,o,s){return M(this),r?n(this.colors,r,o,t,s):(s!==t&&(this.colors.alpha=s),a(o))},p.prototype.setCustomBackground=function(r){return M(this),this.options.customBG="string"==typeof r?x.txt2color(r).rgb:r,n(this.colors,t,"rgb")},p.prototype.saveAsBackground=function(){return M(this),n(this.colors,t,"rgb",!0)};var x={txt2color:function(r){var t={},n=r.replace(/(?:#|\)|%)/g,"").split("("),o=(n[1]||"").split(/,\s*/),a=n[1]?n[0].substr(0,3):"rgb",s="";if(t.type=a,t[a]={},n[1])for(var i=3;i--;)s=a[i]||a.charAt(i),t[a][s]=+o[i]/h[a][s][1];else t.rgb=x.HEX2rgb(n[0]);return t.alpha=o[3]?+o[3]:1,t},RGB2HEX:function(r){return((r.r<16?"0":"")+r.r.toString(16)+(r.g<16?"0":"")+r.g.toString(16)+(r.b<16?"0":"")+r.b.toString(16)).toUpperCase()},HEX2rgb:function(r){return r=r.split(""),{r:parseInt(r[0]+r[r[3]?1:0],16)/255,g:parseInt(r[r[3]?2:1]+(r[3]||r[1]),16)/255,b:parseInt((r[4]||r[2])+(r[5]||r[2]),16)/255}},hue2RGB:function(r){var t=6*r,n=~~t%6,o=6===t?0:t-n;return{r:Math.round(255*[1,1-o,0,0,o,1][n]),g:Math.round(255*[o,1,1,1-o,0,0][n]),b:Math.round(255*[0,0,o,1,1,1-o][n])}},rgb2hsv:function(r){var t,n,o,a=r.r,s=r.g,i=r.b,u=0;return i>s&&(s=i+(i=s,0),u=-1),n=i,s>a&&(a=s+(s=a,0),u=-2/6-u,n=Math.min(s,i)),t=a-n,o=a?t/a:0,{h:1e-15>o?l&&l.hsl&&l.hsl.h||0:t?Math.abs(u+(s-i)/(6*t)):0,s:a?t/a:l&&l.hsv&&l.hsv.s||0,v:a}},hsv2rgb:function(r){var t=6*r.h,n=r.s,o=r.v,a=~~t,s=t-a,i=o*(1-n),u=o*(1-s*n),g=o*(1-(1-s)*n),e=a%6;return{r:[o,u,i,i,g,o][e],g:[g,o,o,u,i,i][e],b:[i,i,g,o,o,u][e]}},hsv2hsl:function(r){var t=(2-r.s)*r.v,n=r.s*r.v;return n=r.s?1>t?t?n/t:0:n/(2-t):0,{h:r.h,s:r.v||n?n:l&&l.hsl&&l.hsl.s||0,l:t/2}},rgb2hsl:function(r,t){var n=x.rgb2hsv(r);return x.hsv2hsl(t?n:l.hsv=n)},hsl2rgb:function(r){var t=6*r.h,n=r.s,o=r.l,a=.5>o?o*(1+n):o+n-n*o,s=o+o-a,i=a?(a-s)/a:0,u=~~t,g=t-u,e=a*i*g,b=s+e,h=a-e,c=u%6;return{r:[a,h,s,s,b,a][c],g:[b,a,a,h,s,s][c],b:[s,s,b,a,a,h][c]}}}}(window);